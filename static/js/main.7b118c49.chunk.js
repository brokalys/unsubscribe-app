(this["webpackJsonpunsubscribe-app"]=this["webpackJsonpunsubscribe-app"]||[]).push([[0],{17:function(e,n,t){e.exports=t(53)},22:function(e,n,t){},52:function(e,n,t){},53:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(13),s=t.n(r),o=(t(22),t(3)),u=t.n(o),i=t(14),l=t(2),b=t(15),p=t.n(b),m=t(16),d=t.n(m);t(52);var f=function(){var e=Object(a.useState)(!1),n=Object(l.a)(e,2),t=n[0],r=n[1],s=Object(a.useState)(!1),o=Object(l.a)(s,2),b=o[0],m=o[1],f=Object(a.useState)(),h=Object(l.a)(f,2),k=h[0],v=h[1],w=Object(a.useState)(),j=Object(l.a)(w,2),y=j[0],E=j[1],O=Object(a.useState)(!1),g=Object(l.a)(O,2),x=g[0],S=g[1];function N(){return(N=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("https://api.brokalys.com/",{query:"\n          mutation {\n            unsubscribePinger(\n              id: ".concat(y,',\n              unsubscribe_key: "').concat(k,'",\n              all: ').concat(Boolean(x),",\n            )\n          }\n        ")});case 3:r(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m(!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=d.a.parse(window.location.search);v(e.key),E(e.id)}),[]),k&&y?t?c.a.createElement("p",{className:"feedback-success"},"Unsubscribed succesfully."):b?c.a.createElement("p",{className:"feedback-error"},"Failed unsubscribing. Please try again later."):c.a.createElement("div",null,c.a.createElement("p",null,"Are You sure You want to unsubscribe?"),c.a.createElement("button",{onClick:function(){return N.apply(this,arguments)}},"Yes, don't send me PINGER emails anymore"),c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",onChange:function(){S(!x)}}),"Unsubscribe from ALL pingers fro this email address")):c.a.createElement("p",{className:"feedback-error"},"Invalid unsubscribe link.")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.7b118c49.chunk.js.map